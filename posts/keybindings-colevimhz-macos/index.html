<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="[Rohit Goswami]"><meta name=description content="Struggling to emulate klfc for VIM Colemak bindings on Darwin (macOS) systems with Hammerspoon and Karabiner
 Background I have mentioned in the past my customized Colemak dotfiles which I used with a customized keyboard layout. Unfortunately, the .keylayout system of MacOS is far more primitive than the elegant klfc setup 1. For an understanding of what we are trying to get at, the following poorly made video will suffice."><meta name=keywords content=",workflow,macos,tools"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://rgoswami.me/posts/keybindings-colevimhz-macos/><title>Remapping Keys for ColemakVIM on MacOS :: Rohit Goswami — Reflections</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/main.min.b6dbce0fdf6c61563a0c2226e857d5dadd8e5afa2c4f73ec9ea55abd831f9a72.css><meta itemprop=name content="Remapping Keys for ColemakVIM on MacOS"><meta itemprop=description content="Struggling to emulate klfc for VIM Colemak bindings on Darwin (macOS) systems with Hammerspoon and Karabiner
 Background I have mentioned in the past my customized Colemak dotfiles which I used with a customized keyboard layout. Unfortunately, the .keylayout system of MacOS is far more primitive than the elegant klfc setup 1. For an understanding of what we are trying to get at, the following poorly made video will suffice."><meta itemprop=datePublished content="2021-07-23T04:45:00+00:00"><meta itemprop=dateModified content="2021-08-22T13:43:02+00:00"><meta itemprop=wordCount content="2064"><meta itemprop=image content="https://rgoswami.me/images/RG.png"><meta itemprop=keywords content="workflow,macos,tools,"><meta property="og:title" content="Remapping Keys for ColemakVIM on MacOS"><meta property="og:description" content="Struggling to emulate klfc for VIM Colemak bindings on Darwin (macOS) systems with Hammerspoon and Karabiner
 Background I have mentioned in the past my customized Colemak dotfiles which I used with a customized keyboard layout. Unfortunately, the .keylayout system of MacOS is far more primitive than the elegant klfc setup 1. For an understanding of what we are trying to get at, the following poorly made video will suffice."><meta property="og:type" content="article"><meta property="og:url" content="https://rgoswami.me/posts/keybindings-colevimhz-macos/"><meta property="og:image" content="https://rgoswami.me/images/RG.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-23T04:45:00+00:00"><meta property="article:modified_time" content="2021-08-22T13:43:02+00:00"><meta property="og:site_name" content="Rohit Goswami"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rgoswami.me/images/RG.png"><meta name=twitter:title content="Remapping Keys for ColemakVIM on MacOS"><meta name=twitter:description content="Struggling to emulate klfc for VIM Colemak bindings on Darwin (macOS) systems with Hammerspoon and Karabiner
 Background I have mentioned in the past my customized Colemak dotfiles which I used with a customized keyboard layout. Unfortunately, the .keylayout system of MacOS is far more primitive than the elegant klfc setup 1. For an understanding of what we are trying to get at, the following poorly made video will suffice."><meta property="article:section" content="personal"><meta property="article:published_time" content="2021-07-23 04:45:00 +0000 UTC"></head><body class=dark-theme><div class=container><header class=header><div class=header__inner><div class=header__left><div class=logo><a href=/ style=text-decoration:none><img src=/images/home.png alt></a></div></div><div class=header__mid><button class=button><div class=button__text><a href=https://rgoswami.me//search>Search</a></div></button></div><div class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://rgoswami.me/about>About</a></li><li><a href=https://rgoswami.me/posts>Blog</a></li></ul><ul class=menu__inner><li><a href=https://rgoswami.me/categories>Categories</a></li><li><a href=https://rgoswami.me/tags>Tags</a></li></ul></nav><button id=toggleMenu><div class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></div></button>
<button class=theme-toggle id=toggleTheme><svg class="theme-toggler" width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></button></div></div></header><script src=https://rgoswami.me/js/mathjax-config.js></script>
<script id=MathJax-script async src=https://unpkg.com/mathjax@3/es5/tex-chtml.js></script><aside class=sidebar><div class=hideTOC><button id=tocTog>TOC</button><div class="sideTOC m-fadeOut"><nav id=TableOfContents><ul><li><a href=#background>Background</a><ul><li><a href=#series>Series</a></li><li><a href=#vim-colemak-extensions>VIM Colemak Extensions</a></li></ul></li><li><a href=#tools>Tools</a></li><li><a href=#karabiner>Karabiner</a></li><li><a href=#hammerspoon>Hammerspoon</a><ul><li><a href=#remapping-keys>Remapping Keys</a></li></ul></li><li><a href=#all-together>All together</a></li><li><a href=#conclusions>Conclusions</a></li></ul></nav></div></div></aside><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>10 minutes<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Written: 2021-07-23 04:45 +0000</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Updated: 2021-08-22 13:43 +0000</p></p></div><article class=h-entry><h1 class="post-title p-name"><a class=u-url href=https://rgoswami.me/posts/keybindings-colevimhz-macos/>Remapping Keys for ColemakVIM on MacOS</a></h1><div class=post-info><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pen-tool"><path d="M12 19l7-7 3 3-7 7-3-3z"/><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/><path d="M2 2l7.586 7.586"/><circle cx="11" cy="11" r="2"/></svg><span class="author u-author p-author"><a href=https://rgoswami.me/author/rohit-goswami>Rohit Goswami</a></span></div><hr><aside id=toc class=sidebar><div class=toc-title>Table of Contents</div><nav id=TableOfContents><ul><li><a href=#background>Background</a><ul><li><a href=#series>Series</a></li><li><a href=#vim-colemak-extensions>VIM Colemak Extensions</a></li></ul></li><li><a href=#tools>Tools</a></li><li><a href=#karabiner>Karabiner</a></li><li><a href=#hammerspoon>Hammerspoon</a><ul><li><a href=#remapping-keys>Remapping Keys</a></li></ul></li><li><a href=#all-together>All together</a></li><li><a href=#conclusions>Conclusions</a></li></ul></nav></aside><hr><div class="post-content e-content"><blockquote><p>Struggling to emulate <code>klfc</code> for VIM Colemak bindings on Darwin (macOS) systems with Hammerspoon and Karabiner</p></blockquote><h2 id=background>Background</h2><p>I have mentioned in the past my customized <a href=/posts/colemak-dots-refactor/>Colemak dotfiles</a> which I used with <a href=https://rgoswami.me/posts/remap-keys-xkb-klfc/>a customized keyboard layout</a>. Unfortunately, the <code>.keylayout</code> system of MacOS is far more primitive than the elegant <code>klfc</code> setup <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>. For an understanding of what we are trying to get at, the following poorly made video will suffice.</p><p>{{&lt; youtube BgqlUsenmKU >}}</p><h3 id=series>Series</h3><p>This post is part of a series on Colemak and keyboard management in general.</p><ol><li><a href=/posts/colemak-switch/>Switching to Colemak</a></li><li><a href=/posts/colemak-dots-refactor/>Refactoring Dotfiles For Colemak</a></li><li><a href=https://rgoswami.me/posts/remap-keys-xkb-klfc/>Remapping Keys with XKB and KLFC</a></li><li><strong>Keybindings and MacOS</strong> &lt;&ndash; You are here!</li></ol><h3 id=vim-colemak-extensions>VIM Colemak Extensions</h3><p>Just as a reminder, my setup (or <code>hzColemak</code>) consists of an augmented VIM workflow, as shown below, and <a href=https://rgoswami.me/posts/remap-keys-xkb-klfc/>described in my previous post</a>.</p><p><a id=orgedeb814></a></p><p><img src=/ox-hugo/extendLayer_hz.jpg alt>
<img src=/ox-hugo/extShift_hz.jpg alt>
<img src=/ox-hugo/extAltGr_hz.png alt></p><h2 id=tools>Tools</h2><p>There are essentially a few options:</p><dl><dt>Manually write <code>.keylayout</code></dt><dd>These then go in <code>$HOME/Library/Keyboard\ Layouts</code></dd><dt>Use <a href=https://software.sil.org/ukelele/#about>Ukelele</a></dt><dd>The incredibly poorly named (for search purposes) versatile tool is able to ease the pain slightly for writing <code>.keylayout</code> files</dd><dt>Use <a href=https://karabiner-elements.pqrs.org/>Karabiner Elements</a></dt><dd>This seems to be closer to <a href=https://www.autohotkey.com/>AutoHotKey</a> and the like, runs in the background and actively intercepts keys based on <code>json</code> configurations; though there seems to be a more rational method (a <code>hidutil</code> <a href=https://hidutil-generator.netlify.app/>remapping file generator</a>) for newer kernels <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></dd><dt>Script things with <a href=http://www.hammerspoon.org/>Hammerspoon</a></dt><dd>Uses a <code>lua</code> engine to interact with the system, can be configured for the most part with <a href=https://fennel-lang.org/>Fennel</a> using <a href=https://github.com/agzam/spacehammer>Spacehammer</a></dd></dl><p>Now of the four, I had a predilection to move towards manually writing, with the help of Ukelele. However, evidently, there is no real way to remove the stickiness from the Caps Lock key. It can either be remapped using <strong>system settings</strong> <sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> to one of the other modifier keys, but <strong>not to Extend</strong>. The closest possible solution would be to do a very awkward <code>Esc</code> based layout. Also, rapid prototyping was out of the question, since Ukelele requires a log-out log-in cycle to set things up. Of Ukelele and manually writing things then, nothing more need be said.</p><h2 id=karabiner>Karabiner</h2><p>This left me considering <code>json</code> re-writer. I have been using the basic Colemak layout with a simplistic Karabiner <code>caps</code> to <code>delete</code> for a while now, which allows for a standards compliant Colemak experience, but extending this like I needed was a little bit of a struggle.</p><p><a id=org76d8701></a></p><p><img src=/ox-hugo/2021-07-23_01-17-01_screenshot.png alt>
<img src=/ox-hugo/2021-07-23_01-12-58_screenshot.png alt></p><p>Apparently it is possible to overload the keyboard system with a &ldquo;Hyper&rdquo; key <sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>, which is the closest to Extend.</p><p>This is setup through a <code>karabiner.json</code> file, since it appears that the &ldquo;Complex modifications&rdquo; referred to in the GUI (Fig. <a href=#org76d8701>2</a>) don&rsquo;t really allow for more than downloading rules off of the internet <sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup>, like the one below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=s2>&#34;complex_modifications&#34;</span><span class=err>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>                <span class=nt>&#34;rules&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>                    <span class=p>{</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>                        <span class=nt>&#34;manipulators&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>                            <span class=p>{</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>                                <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;Change caps_lock to command+control+option+shift. Escape if no other key used.&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>                                <span class=nt>&#34;from&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>                                    <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;caps_lock&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>                                    <span class=nt>&#34;modifiers&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>                                        <span class=nt>&#34;optional&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>                                            <span class=s2>&#34;any&#34;</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>                                        <span class=p>]</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>                                    <span class=p>}</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>                                <span class=p>},</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>                                <span class=nt>&#34;to&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>                                    <span class=p>{</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>                                        <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;left_shift&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>                                        <span class=nt>&#34;modifiers&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>                                            <span class=s2>&#34;left_command&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>                                            <span class=s2>&#34;left_control&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>                                            <span class=s2>&#34;left_option&#34;</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>                                        <span class=p>]</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>                                    <span class=p>}</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>                                <span class=p>],</span>
</span></span><span class=line><span class=ln>25</span><span class=cl>                                <span class=nt>&#34;to_if_alone&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>                                    <span class=p>{</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>                                        <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;escape&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>                                        <span class=nt>&#34;modifiers&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>29</span><span class=cl>                                            <span class=nt>&#34;optional&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>                                                <span class=s2>&#34;any&#34;</span>
</span></span><span class=line><span class=ln>31</span><span class=cl>                                            <span class=p>]</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>                                        <span class=p>}</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>                                    <span class=p>}</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>                                <span class=p>],</span>
</span></span><span class=line><span class=ln>35</span><span class=cl>                                <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;basic&#34;</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>                            <span class=p>}</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>                        <span class=p>]</span>
</span></span><span class=line><span class=ln>38</span><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=ln>39</span><span class=cl>                <span class=p>]</span>
</span></span><span class=line><span class=ln>40</span><span class=cl>            <span class=p>}</span><span class=err>,</span>
</span></span></code></pre></div><p>Extending this is not pleasant, so we won&rsquo;t go forward with this approach at all.</p><p>We will still need a bit of this unfortunately, so this will stick around. In particular we need to have a simple mapping, from <code>caps_lock</code> to one of the un-mapped function keys, <code>f18</code> or <code>f19</code> or some such.</p><p>Effectively, this can be done with the GUI, but we prefer the configuration snippet makes it far more reproducible:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;basic&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>    <span class=nt>&#34;from&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>        <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;caps_lock&#34;</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=nt>&#34;to&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>        <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;f19&#34;</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Note that we <strong>do not</strong> need to define the <code>hyper</code> key to be a series of keystrokes or anything like that here with the <code>complex_modifications</code> in this configuration. The point of using <code>complex_modifications</code> is to not overwrite the Karabiner defaults. The following modifications also allow us to keep CAPS functionality bound to simultaneously pressing left and right shift together<sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;CAPS to fake hyper (f19) and Shift CAPS&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=nt>&#34;rules&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>      <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;CAPS_LOCK : (HYPER)&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>      <span class=nt>&#34;manipulators&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>          <span class=nt>&#34;from&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>            <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;caps_lock&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>            <span class=nt>&#34;modifiers&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>              <span class=nt>&#34;optional&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;any&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>          <span class=nt>&#34;to&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>              <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;f19&#34;</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>          <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;basic&#34;</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>      <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;Toggle CAPS_LOCK with LEFT_SHIFT + RIGHT_SHIFT&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>      <span class=nt>&#34;manipulators&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>25</span><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>          <span class=nt>&#34;from&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>            <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;left_shift&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>            <span class=nt>&#34;modifiers&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>29</span><span class=cl>              <span class=nt>&#34;mandatory&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;right_shift&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>              <span class=nt>&#34;optional&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;caps_lock&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=ln>31</span><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>          <span class=nt>&#34;to&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=ln>35</span><span class=cl>              <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;caps_lock&#34;</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=ln>38</span><span class=cl>          <span class=nt>&#34;to_if_alone&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>39</span><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=ln>40</span><span class=cl>              <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;left_shift&#34;</span>
</span></span><span class=line><span class=ln>41</span><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=ln>42</span><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=ln>43</span><span class=cl>          <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;basic&#34;</span>
</span></span><span class=line><span class=ln>44</span><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=ln>45</span><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=ln>46</span><span class=cl>          <span class=nt>&#34;from&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>47</span><span class=cl>            <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;right_shift&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>48</span><span class=cl>            <span class=nt>&#34;modifiers&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>49</span><span class=cl>              <span class=nt>&#34;mandatory&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;left_shift&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=ln>50</span><span class=cl>              <span class=nt>&#34;optional&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;caps_lock&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=ln>51</span><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=ln>52</span><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=ln>53</span><span class=cl>          <span class=nt>&#34;to&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>54</span><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=ln>55</span><span class=cl>              <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;caps_lock&#34;</span>
</span></span><span class=line><span class=ln>56</span><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=ln>57</span><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=ln>58</span><span class=cl>          <span class=nt>&#34;to_if_alone&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>59</span><span class=cl>            <span class=p>{</span>
</span></span><span class=line><span class=ln>60</span><span class=cl>              <span class=nt>&#34;key_code&#34;</span><span class=p>:</span> <span class=s2>&#34;right_shift&#34;</span>
</span></span><span class=line><span class=ln>61</span><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=ln>62</span><span class=cl>          <span class=p>],</span>
</span></span><span class=line><span class=ln>63</span><span class=cl>          <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;basic&#34;</span>
</span></span><span class=line><span class=ln>64</span><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=ln>65</span><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=ln>66</span><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=ln>67</span><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=ln>68</span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=hammerspoon>Hammerspoon</h2><p>Not that an operating system should need a scripting engine, but apparently <a href=http://www.hammerspoon.org/>Hammerspoon</a> is worth looking into fox better control over the entire OS <sup id=fnref:7><a href=#fn:7 class=footnote-ref role=doc-noteref>7</a></sup>. This made it more attractive than writing a hidden configuration file for Karabiner.</p><p>The first thing we will need in our <code>init.lua</code> after installing the Hammerspoon application is one to reload the configuration automatically:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln> 1</span><span class=cl><span class=c1>-- Reload config when any lua file in config directory changes</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=c1>-- From https://gist.github.com/prenagha/1c28f71cb4d52b3133a4bff1b3849c3e</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=kr>function</span> <span class=nf>reloadConfig</span><span class=p>(</span><span class=n>files</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=n>doReload</span> <span class=o>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>    <span class=kr>for</span> <span class=n>_</span><span class=p>,</span><span class=n>file</span> <span class=kr>in</span> <span class=n>pairs</span><span class=p>(</span><span class=n>files</span><span class=p>)</span> <span class=kr>do</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>        <span class=kr>if</span> <span class=n>file</span><span class=p>:</span><span class=n>sub</span><span class=p>(</span><span class=o>-</span><span class=mi>4</span><span class=p>)</span> <span class=o>==</span> <span class=s1>&#39;.lua&#39;</span> <span class=kr>then</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>            <span class=n>doReload</span> <span class=o>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>        <span class=kr>end</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>    <span class=kr>if</span> <span class=n>doReload</span> <span class=kr>then</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>        <span class=n>hs.reload</span><span class=p>()</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln>14</span><span class=cl><span class=kd>local</span> <span class=n>myWatcher</span> <span class=o>=</span> <span class=n>hs.pathwatcher</span><span class=p>.</span><span class=n>new</span><span class=p>(</span><span class=n>os.getenv</span><span class=p>(</span><span class=s1>&#39;HOME&#39;</span><span class=p>)</span> <span class=o>..</span> <span class=s1>&#39;/.hammerspoon/&#39;</span><span class=p>,</span> <span class=n>reloadConfig</span><span class=p>):</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=n>hs.alert</span><span class=p>.</span><span class=n>show</span><span class=p>(</span><span class=s1>&#39;Config loaded&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>An alternative to using <code>Karabiner</code> to map <code>f19</code> is to use the <a href=https://github.com/hetima/hammerspoon-foundation_remapping>foundation remapping plugin</a> which needs to be placed in <code>$HOME/.hammerspoon</code> with the following added to our <code>init.lua</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln>1</span><span class=cl><span class=c1>-- cd ~/.hammerspoon/ &amp;&amp; wget https://raw.githubusercontent.com/hetima/hammerspoon-foundation_remapping/master/foundation_remapping.lua</span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=c1>-- init.lua</span>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=kd>local</span> <span class=n>FRemap</span> <span class=o>=</span> <span class=n>require</span><span class=p>(</span><span class=s1>&#39;foundation_remapping&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=kd>local</span> <span class=n>remapper</span> <span class=o>=</span> <span class=n>FRemap.new</span><span class=p>()</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=n>remapper</span><span class=p>:</span><span class=n>remap</span><span class=p>(</span><span class=s1>&#39;capslock&#39;</span><span class=p>,</span> <span class=s1>&#39;f19&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>7</span><span class=cl><span class=n>remapper</span><span class=p>:</span><span class=n>register</span><span class=p>()</span>
</span></span></code></pre></div><p>The only problem with this is that it must be <code>unregistered</code> carefully. The Karabiner method is easier overall.</p><p>Anyway, once <code>f19</code> has been bound, one way or another, we need to setup the hyper key itself<sup id=fnref:8><a href=#fn:8 class=footnote-ref role=doc-noteref>8</a></sup>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln> 1</span><span class=cl><span class=c1>-- init.lua</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=c1>-- A global variable for the Hyper Mode</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=n>hyper</span> <span class=o>=</span> <span class=n>hs.hotkey</span><span class=p>.</span><span class=n>modal.new</span><span class=p>({},</span> <span class=s1>&#39;F18&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=c1>-- Enter Hyper Mode when F19 (Hyper/Capslock) is pressed</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=kr>function</span> <span class=nf>enterHyperMode</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>  <span class=n>hyper.triggered</span> <span class=o>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>  <span class=n>hyper</span><span class=p>:</span><span class=n>enter</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  <span class=n>hs.alert</span><span class=p>.</span><span class=n>show</span><span class=p>(</span><span class=s1>&#39;Hyper on&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=c1>-- Leave Hyper Mode when F19 (Hyper/Capslock) is pressed,</span>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=kr>function</span> <span class=nf>exitHyperMode</span><span class=p>()</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>  <span class=n>hyper</span><span class=p>:</span><span class=n>exit</span><span class=p>()</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>  <span class=n>hs.alert</span><span class=p>.</span><span class=n>show</span><span class=p>(</span><span class=s1>&#39;Hyper off&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=c1>-- Bind the Hyper key</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=n>f19</span> <span class=o>=</span> <span class=n>hs.hotkey</span><span class=p>.</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;F19&#39;</span><span class=p>,</span> <span class=n>enterHyperMode</span><span class=p>,</span> <span class=n>exitHyperMode</span><span class=p>)</span>
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=n>f19cmd</span> <span class=o>=</span> <span class=n>hs.hotkey</span><span class=p>.</span><span class=n>bind</span><span class=p>({</span><span class=s1>&#39;cmd&#39;</span><span class=p>},</span> <span class=s1>&#39;F19&#39;</span><span class=p>,</span> <span class=n>enterHyperMode</span><span class=p>,</span> <span class=n>exitHyperMode</span><span class=p>)</span>
</span></span></code></pre></div><p>The alerts can help while setting up muscle memory, but they are optional. We also map <code>cmd+f19</code> to prevent the <code>cmd+h</code> hide application annoyance.</p><h3 id=remapping-keys>Remapping Keys</h3><p>The basic idea is to set a function which executes only when <code>hyper:enter()</code> is true. One thing to remember is that the signature for <code>hs.eventtap.keyStroke</code> has an optional <code>delay</code> which defaults to 200ms and is ridiculous. This means we need to explicitly set 0 for the delay.</p><h4 id=basic-movements>Basic Movements</h4><p>These correspond to the to the top level extend layer. We will disect one example here and refer to a later section for the details.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln>1</span><span class=cl><span class=c1>-- h - move left {{{3</span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=kr>function</span> <span class=nf>left</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({},</span> <span class=s2>&#34;Left&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;h&#39;</span><span class=p>,</span> <span class=n>left</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=c1>-- }}}3</span>
</span></span></code></pre></div><p>Essentially, when <code>hyper</code> is active, then tapping <code>h</code> activates the <code>keyStroke</code>. The remaining <code>hnei</code> movements are similar. For the carriage return case we can go for a slightly more interesting option.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln> 1</span><span class=cl><span class=c1>-- o - open new line below cursor {{{3</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;o&#39;</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>    <span class=kd>local</span> <span class=n>app</span> <span class=o>=</span> <span class=n>hs.application</span><span class=p>.</span><span class=n>frontmostApplication</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=kr>if</span> <span class=n>app</span><span class=p>:</span><span class=n>name</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&#34;Finder&#34;</span> <span class=kr>then</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>        <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({</span><span class=s2>&#34;cmd&#34;</span><span class=p>},</span> <span class=s2>&#34;o&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=kr>else</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>        <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({},</span> <span class=s2>&#34;Return&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=c1>-- }}}3</span>
</span></span></code></pre></div><p>We can effectively setup application specific <code>keyStrokes</code> which will help in the long run.</p><h4 id=extend-layers>Extend Layers</h4><p>These are implemented in much the same way, since modifiers can be called in the <code>bind</code> function.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln>1</span><span class=cl><span class=c1>-- cmd+h - delete character before the cursor {{{3</span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=kd>local</span> <span class=kr>function</span> <span class=nf>delete</span><span class=p>()</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>    <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({},</span> <span class=s2>&#34;delete&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({</span><span class=s2>&#34;cmd&#34;</span><span class=p>},</span> <span class=s1>&#39;h&#39;</span><span class=p>,</span> <span class=n>delete</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>delete</span><span class=p>)</span>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=c1>-- }}}3</span>
</span></span></code></pre></div><h4 id=vim-extras>VIM Extras</h4><p>Since we have a whole scripting engine anyway, we might as well use it to get some additional mileage not possible from our older keyboard layout.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln>1</span><span class=cl><span class=c1>-- w - move to next word {{{3</span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=kr>function</span> <span class=nf>word</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({</span><span class=s2>&#34;alt&#34;</span><span class=p>},</span> <span class=s2>&#34;Right&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=n>word</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>word</span><span class=p>)</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=c1>-- }}}3</span>
</span></span></code></pre></div><p>These can be extended further into whole pseudo-VIM approach.</p><h2 id=all-together>All together</h2><p>For this post, we opted for a minimal Hammerspoon setup which ended up with a monolithic setup defined in <code>init.lua</code> files as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-lua data-lang=lua><span class=line><span class=ln>  1</span><span class=cl><span class=c1>-- Reload config when any lua file in config directory changes</span>
</span></span><span class=line><span class=ln>  2</span><span class=cl><span class=c1>-- From https://gist.github.com/prenagha/1c28f71cb4d52b3133a4bff1b3849c3e</span>
</span></span><span class=line><span class=ln>  3</span><span class=cl><span class=kr>function</span> <span class=nf>reloadConfig</span><span class=p>(</span><span class=n>files</span><span class=p>)</span>
</span></span><span class=line><span class=ln>  4</span><span class=cl>    <span class=n>doReload</span> <span class=o>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=ln>  5</span><span class=cl>    <span class=kr>for</span> <span class=n>_</span><span class=p>,</span><span class=n>file</span> <span class=kr>in</span> <span class=n>pairs</span><span class=p>(</span><span class=n>files</span><span class=p>)</span> <span class=kr>do</span>
</span></span><span class=line><span class=ln>  6</span><span class=cl>        <span class=kr>if</span> <span class=n>file</span><span class=p>:</span><span class=n>sub</span><span class=p>(</span><span class=o>-</span><span class=mi>4</span><span class=p>)</span> <span class=o>==</span> <span class=s1>&#39;.lua&#39;</span> <span class=kr>then</span>
</span></span><span class=line><span class=ln>  7</span><span class=cl>            <span class=n>doReload</span> <span class=o>=</span> <span class=kc>true</span>
</span></span><span class=line><span class=ln>  8</span><span class=cl>        <span class=kr>end</span>
</span></span><span class=line><span class=ln>  9</span><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=ln> 10</span><span class=cl>    <span class=kr>if</span> <span class=n>doReload</span> <span class=kr>then</span>
</span></span><span class=line><span class=ln> 11</span><span class=cl>        <span class=n>hs.reload</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 12</span><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=ln> 13</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln> 14</span><span class=cl><span class=kd>local</span> <span class=n>myWatcher</span> <span class=o>=</span> <span class=n>hs.pathwatcher</span><span class=p>.</span><span class=n>new</span><span class=p>(</span><span class=n>os.getenv</span><span class=p>(</span><span class=s1>&#39;HOME&#39;</span><span class=p>)</span> <span class=o>..</span> <span class=s1>&#39;/.hammerspoon/&#39;</span><span class=p>,</span> <span class=n>reloadConfig</span><span class=p>):</span><span class=n>start</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 15</span><span class=cl><span class=n>hs.alert</span><span class=p>.</span><span class=n>show</span><span class=p>(</span><span class=s1>&#39;Config loaded&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 16</span><span class=cl>
</span></span><span class=line><span class=ln> 17</span><span class=cl><span class=c1>-- A global variable for the Hyper Mode</span>
</span></span><span class=line><span class=ln> 18</span><span class=cl><span class=n>hyper</span> <span class=o>=</span> <span class=n>hs.hotkey</span><span class=p>.</span><span class=n>modal.new</span><span class=p>({},</span> <span class=s1>&#39;F18&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 19</span><span class=cl>
</span></span><span class=line><span class=ln> 20</span><span class=cl><span class=c1>-- Enter Hyper Mode when F19 (Hyper/Capslock) is pressed</span>
</span></span><span class=line><span class=ln> 21</span><span class=cl><span class=kr>function</span> <span class=nf>enterHyperMode</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 22</span><span class=cl>  <span class=n>hyper.triggered</span> <span class=o>=</span> <span class=kc>false</span>
</span></span><span class=line><span class=ln> 23</span><span class=cl>  <span class=n>hyper</span><span class=p>:</span><span class=n>enter</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 24</span><span class=cl>  <span class=n>hs.alert</span><span class=p>.</span><span class=n>show</span><span class=p>(</span><span class=s1>&#39;Hyper on&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 25</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln> 26</span><span class=cl>
</span></span><span class=line><span class=ln> 27</span><span class=cl><span class=c1>-- Leave Hyper Mode when F19 (Hyper/Capslock) is pressed,</span>
</span></span><span class=line><span class=ln> 28</span><span class=cl><span class=c1>-- send ESCAPE if no other keys are pressed.</span>
</span></span><span class=line><span class=ln> 29</span><span class=cl><span class=kr>function</span> <span class=nf>exitHyperMode</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 30</span><span class=cl>  <span class=n>hyper</span><span class=p>:</span><span class=n>exit</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 31</span><span class=cl>  <span class=c1>-- if not hyper.triggered then</span>
</span></span><span class=line><span class=ln> 32</span><span class=cl>  <span class=c1>--   hs.eventtap.keyStroke({}, &#39;ESCAPE&#39;)</span>
</span></span><span class=line><span class=ln> 33</span><span class=cl>  <span class=c1>-- end</span>
</span></span><span class=line><span class=ln> 34</span><span class=cl>  <span class=n>hs.alert</span><span class=p>.</span><span class=n>show</span><span class=p>(</span><span class=s1>&#39;Hyper off&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 35</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln> 36</span><span class=cl>
</span></span><span class=line><span class=ln> 37</span><span class=cl><span class=c1>-- Bind the Hyper key</span>
</span></span><span class=line><span class=ln> 38</span><span class=cl><span class=n>f19</span> <span class=o>=</span> <span class=n>hs.hotkey</span><span class=p>.</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;F19&#39;</span><span class=p>,</span> <span class=n>enterHyperMode</span><span class=p>,</span> <span class=n>exitHyperMode</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 39</span><span class=cl>
</span></span><span class=line><span class=ln> 40</span><span class=cl><span class=c1>-- Vim Colemak bindings (hzColemak)</span>
</span></span><span class=line><span class=ln> 41</span><span class=cl><span class=c1>-- Basic Movements {{{2</span>
</span></span><span class=line><span class=ln> 42</span><span class=cl>
</span></span><span class=line><span class=ln> 43</span><span class=cl><span class=c1>-- h - move left {{{3</span>
</span></span><span class=line><span class=ln> 44</span><span class=cl><span class=kr>function</span> <span class=nf>left</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({},</span> <span class=s2>&#34;Left&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln> 45</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;h&#39;</span><span class=p>,</span> <span class=n>left</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>left</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 46</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln> 47</span><span class=cl>
</span></span><span class=line><span class=ln> 48</span><span class=cl><span class=c1>-- n - move down {{{3</span>
</span></span><span class=line><span class=ln> 49</span><span class=cl><span class=kr>function</span> <span class=nf>down</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({},</span> <span class=s2>&#34;Down&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln> 50</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;n&#39;</span><span class=p>,</span> <span class=n>down</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>down</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 51</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln> 52</span><span class=cl>
</span></span><span class=line><span class=ln> 53</span><span class=cl><span class=c1>-- e - move up {{{3</span>
</span></span><span class=line><span class=ln> 54</span><span class=cl><span class=kr>function</span> <span class=nf>up</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({},</span> <span class=s2>&#34;Up&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln> 55</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;e&#39;</span><span class=p>,</span> <span class=n>up</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>up</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 56</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln> 57</span><span class=cl>
</span></span><span class=line><span class=ln> 58</span><span class=cl><span class=c1>-- i - move right {{{3</span>
</span></span><span class=line><span class=ln> 59</span><span class=cl><span class=kr>function</span> <span class=nf>right</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({},</span> <span class=s2>&#34;Right&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln> 60</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;i&#39;</span><span class=p>,</span> <span class=n>right</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>right</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 61</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln> 62</span><span class=cl>
</span></span><span class=line><span class=ln> 63</span><span class=cl><span class=c1>-- ) - right programming brace {{{3</span>
</span></span><span class=line><span class=ln> 64</span><span class=cl><span class=kr>function</span> <span class=nf>rbroundL</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStrokes</span><span class=p>(</span><span class=s2>&#34;(&#34;</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln> 65</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;k&#39;</span><span class=p>,</span> <span class=n>rbroundL</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>rbroundL</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 66</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln> 67</span><span class=cl>
</span></span><span class=line><span class=ln> 68</span><span class=cl><span class=c1>-- ) - left programming brace {{{3</span>
</span></span><span class=line><span class=ln> 69</span><span class=cl><span class=kr>function</span> <span class=nf>rbroundR</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStrokes</span><span class=p>(</span><span class=s2>&#34;)&#34;</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln> 70</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;v&#39;</span><span class=p>,</span> <span class=n>rbroundR</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>rbroundR</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 71</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln> 72</span><span class=cl>
</span></span><span class=line><span class=ln> 73</span><span class=cl><span class=c1>-- o - open new line below cursor {{{3</span>
</span></span><span class=line><span class=ln> 74</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;o&#39;</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=kr>function</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 75</span><span class=cl>    <span class=kd>local</span> <span class=n>app</span> <span class=o>=</span> <span class=n>hs.application</span><span class=p>.</span><span class=n>frontmostApplication</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 76</span><span class=cl>    <span class=kr>if</span> <span class=n>app</span><span class=p>:</span><span class=n>name</span><span class=p>()</span> <span class=o>==</span> <span class=s2>&#34;Finder&#34;</span> <span class=kr>then</span>
</span></span><span class=line><span class=ln> 77</span><span class=cl>        <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({</span><span class=s2>&#34;cmd&#34;</span><span class=p>},</span> <span class=s2>&#34;o&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 78</span><span class=cl>    <span class=kr>else</span>
</span></span><span class=line><span class=ln> 79</span><span class=cl>        <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({},</span> <span class=s2>&#34;Return&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 80</span><span class=cl>    <span class=kr>end</span>
</span></span><span class=line><span class=ln> 81</span><span class=cl><span class=kr>end</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 82</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln> 83</span><span class=cl>
</span></span><span class=line><span class=ln> 84</span><span class=cl><span class=c1>-- Extend+AltGr layer</span>
</span></span><span class=line><span class=ln> 85</span><span class=cl><span class=c1>-- Delete {{{3</span>
</span></span><span class=line><span class=ln> 86</span><span class=cl>
</span></span><span class=line><span class=ln> 87</span><span class=cl><span class=c1>-- cmd+h - delete character before the cursor {{{3</span>
</span></span><span class=line><span class=ln> 88</span><span class=cl><span class=kd>local</span> <span class=kr>function</span> <span class=nf>delete</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 89</span><span class=cl>    <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({},</span> <span class=s2>&#34;delete&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 90</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln> 91</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({</span><span class=s2>&#34;cmd&#34;</span><span class=p>},</span> <span class=s1>&#39;h&#39;</span><span class=p>,</span> <span class=n>delete</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>delete</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 92</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln> 93</span><span class=cl>
</span></span><span class=line><span class=ln> 94</span><span class=cl><span class=c1>-- cmd+i - delete character after the cursor {{{3</span>
</span></span><span class=line><span class=ln> 95</span><span class=cl><span class=kd>local</span> <span class=kr>function</span> <span class=nf>fndelete</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 96</span><span class=cl>    <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({},</span> <span class=s2>&#34;Right&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 97</span><span class=cl>    <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({},</span> <span class=s2>&#34;delete&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 98</span><span class=cl><span class=kr>end</span>
</span></span><span class=line><span class=ln> 99</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({</span><span class=s2>&#34;cmd&#34;</span><span class=p>},</span> <span class=s1>&#39;i&#39;</span><span class=p>,</span> <span class=n>fndelete</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>fndelete</span><span class=p>)</span>
</span></span><span class=line><span class=ln>100</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln>101</span><span class=cl>
</span></span><span class=line><span class=ln>102</span><span class=cl><span class=c1>-- ) - right programming brace {{{3</span>
</span></span><span class=line><span class=ln>103</span><span class=cl><span class=kr>function</span> <span class=nf>rbcurlyL</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStrokes</span><span class=p>(</span><span class=s2>&#34;{&#34;</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln>104</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({</span><span class=s2>&#34;cmd&#34;</span><span class=p>},</span> <span class=s1>&#39;k&#39;</span><span class=p>,</span> <span class=n>rbcurlyL</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>rbcurlyL</span><span class=p>)</span>
</span></span><span class=line><span class=ln>105</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln>106</span><span class=cl>
</span></span><span class=line><span class=ln>107</span><span class=cl><span class=c1>-- ) - left programming brace {{{3</span>
</span></span><span class=line><span class=ln>108</span><span class=cl><span class=kr>function</span> <span class=nf>rbcurlyR</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStrokes</span><span class=p>(</span><span class=s2>&#34;}&#34;</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln>109</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({</span><span class=s2>&#34;cmd&#34;</span><span class=p>},</span> <span class=s1>&#39;v&#39;</span><span class=p>,</span> <span class=n>rbcurlyR</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>rbcurlyR</span><span class=p>)</span>
</span></span><span class=line><span class=ln>110</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln>111</span><span class=cl>
</span></span><span class=line><span class=ln>112</span><span class=cl><span class=c1>-- Extend+Shift</span>
</span></span><span class=line><span class=ln>113</span><span class=cl>
</span></span><span class=line><span class=ln>114</span><span class=cl><span class=c1>-- ) - right programming brace {{{3</span>
</span></span><span class=line><span class=ln>115</span><span class=cl><span class=kr>function</span> <span class=nf>rbsqrL</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStrokes</span><span class=p>(</span><span class=s2>&#34;[&#34;</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln>116</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({</span><span class=s2>&#34;shift&#34;</span><span class=p>},</span> <span class=s1>&#39;k&#39;</span><span class=p>,</span> <span class=n>rbsqrL</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>rbsqrL</span><span class=p>)</span>
</span></span><span class=line><span class=ln>117</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln>118</span><span class=cl>
</span></span><span class=line><span class=ln>119</span><span class=cl><span class=c1>-- ) - left programming brace {{{3</span>
</span></span><span class=line><span class=ln>120</span><span class=cl><span class=kr>function</span> <span class=nf>rbsqrR</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStrokes</span><span class=p>(</span><span class=s2>&#34;]&#34;</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln>121</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({</span><span class=s2>&#34;shift&#34;</span><span class=p>},</span> <span class=s1>&#39;v&#39;</span><span class=p>,</span> <span class=n>rbsqrR</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>rbsqrR</span><span class=p>)</span>
</span></span><span class=line><span class=ln>122</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln>123</span><span class=cl>
</span></span><span class=line><span class=ln>124</span><span class=cl><span class=c1>-- Special Movements</span>
</span></span><span class=line><span class=ln>125</span><span class=cl><span class=c1>-- w - move to next word {{{3</span>
</span></span><span class=line><span class=ln>126</span><span class=cl><span class=kr>function</span> <span class=nf>word</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({</span><span class=s2>&#34;alt&#34;</span><span class=p>},</span> <span class=s2>&#34;Right&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln>127</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=n>word</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>word</span><span class=p>)</span>
</span></span><span class=line><span class=ln>128</span><span class=cl><span class=c1>-- }}}3</span>
</span></span><span class=line><span class=ln>129</span><span class=cl>
</span></span><span class=line><span class=ln>130</span><span class=cl><span class=c1>-- b - move to previous word {{{3</span>
</span></span><span class=line><span class=ln>131</span><span class=cl><span class=kr>function</span> <span class=nf>back</span><span class=p>()</span> <span class=n>hs.eventtap</span><span class=p>.</span><span class=n>keyStroke</span><span class=p>({</span><span class=s2>&#34;alt&#34;</span><span class=p>},</span> <span class=s2>&#34;Left&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=kr>end</span>
</span></span><span class=line><span class=ln>132</span><span class=cl><span class=n>hyper</span><span class=p>:</span><span class=n>bind</span><span class=p>({},</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=n>back</span><span class=p>,</span> <span class=kc>nil</span><span class=p>,</span> <span class=n>back</span><span class=p>)</span>
</span></span><span class=line><span class=ln>133</span><span class=cl><span class=c1>-- }}}3</span>
</span></span></code></pre></div><h2 id=conclusions>Conclusions</h2><p>It has been very restrictive to not be able to use the keyboard layout I spent years crafting. In that regard, this post is a success story, even with the awkwardness of the implementation. On the other hand, it is baffling to see the lack of good FOSS tools on this ecosystem <sup id=fnref:9><a href=#fn:9 class=footnote-ref role=doc-noteref>9</a></sup>, but that is to be expected perhaps. For my purposes right now, this monolithic <code>init.lua</code> is enough, and the entire configuration corresponds to this commit in my Dotfiles. However, Hammerspoon is one of the more promising configuration systems especially considering the <a href=https://github.com/dbmrq/dotfiles/blob/master/home/.hammerspoon/vim.lua>more complete VIM bindings</a> which exist in the community and would bear a second look. It would make sense to look into using Spacehammer and more VIM bindings sometime soon.</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>There are some <a href=http://xahlee.info/kbd/osx_keybinding.html>text snippet expansion methods</a>, but nothing to simply modify keys.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>As discussed here on the <a href=https://www.naseer.dev/post/hidutil/>Random Bits blog</a>&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3 role=doc-endnote><p>A nauseating prospect, far too inelegant and difficult to keep track of a million manually changed GUI settings&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4 role=doc-endnote><p>Coined in its current form by Brett Terpstra <a href=https://brettterpstra.com/2017/06/15/a-hyper-key-with-karabiner-elements-full-instructions/>here</a> or Jonathan Hollin <a href=https://www.perpetual-beta.org/weblog/magical-caps-lock-key.html>here</a>, first described by Steve Losh <a href=https://stevelosh.com/blog/2012/10/a-modern-space-cadet/>many years ago</a>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5 role=doc-endnote><p>Yes, the original post was 4 years ago and it still isn&rsquo;t part of the GUI, but it is <a href=https://karabiner-elements.pqrs.org/docs/json/root-data-structure/>now documented</a>&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6 role=doc-endnote><p>This is adapted from these <a href=https://ke-complex-modifications.pqrs.org/#JesseHyperPlusVimNavigation>regular VIM Karabiner rules</a>&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:7 role=doc-endnote><p>One of the FOSS tools, plus its in my favorite language (used in <a href=https://dseams.info>d-SEAMS</a>) for embedding things, <code>lua</code>&#160;<a href=#fnref:7 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:8 role=doc-endnote><p>This is close to the method <a href=https://kalis.me/setup-hyper-key-hammerspoon-macos/>Rosco Kalis has</a>&#160;<a href=#fnref:8 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:9 role=doc-endnote><p>It might also just be that there is a lot more media spam, like <a href=https://www.alfredapp.com/>Alfred</a> is basically <a href=https://spacelauncherapp.com/>SpaceLauncher</a> but the latter isn&rsquo;t well known&#160;<a href=#fnref:9 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://rgoswami.me/tags/workflow>workflow</a></span><span class=tag><a href=https://rgoswami.me/tags/macos>macos</a></span><span class=tag><a href=https://rgoswami.me/tags/tools>tools</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>2064 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Posted: <time class=dt-published>2021-07-23 04:45 +0000</time></p><a class=resp-sharing-button__link href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2frgoswami.me%2fposts%2fkeybindings-colevimhz-macos%2f" target=_blank rel=noopener aria-label=Facebook><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11.5"/><path d="M15.84 9.5H13.5V8.48c0-.53.35-.65.6-.65h1.4v-2.3h-2.35c-2.3.0-2.65 1.7-2.65 2.8V9.5h-2v2h2v7h3v-7h2.1l.24-2z"/></svg></div>Facebook</div></a><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?text=%22Remapping%20Keys%20for%20ColemakVIM%20on%20MacOS%22%20seems%20like%20an%20interesting%20read%20from%20%40rg0swami&url=https%3a%2f%2frgoswami.me%2fposts%2fkeybindings-colevimhz-macos%2f" target=_blank rel=noopener aria-label=Twitter><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.5 7.4l-2 .2c-.4-.5-1-.8-2-.8C13.3 6.8 12 8 12 9.4v.6c-2 0-4-1-5.4-2.7-.2.4-.3.8-.3 1.3.0 1 .4 1.7 1.2 2.2-.5.0-1 0-1.2-.3.0 1.3 1 2.3 2 2.6-.3.4-.7.4-1 0 .2 1.4 1.2 2 2.3 2-1 1-2.5 1.4-4 1 1.3 1 2.7 1.4 4.2 1.4 4.8.0 7.5-4 7.5-7.5v-.4c.5-.4.8-1.5 1.2-2z"/><circle cx="12" cy="12" r="11.5"/></svg></div>Twitter</div></a><a class=resp-sharing-button__link href="mailto:?subject=%22Remapping%20Keys%20for%20ColemakVIM%20on%20MacOS%22%20seems%20interesting...&body=https%3a%2f%2frgoswami.me%2fposts%2fkeybindings-colevimhz-macos%2f" target=_self rel=noopener aria-label=E-Mail><div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 16c0 .8-.7 1.5-1.5 1.5H6c-.8.0-1.5-.7-1.5-1.5V8c0-.8.7-1.5 1.5-1.5h12c.8.0 1.5.7 1.5 1.5v8zm-2-7.5L12 13 6.5 8.5m11 6-4-2.5m-7 2.5 4-2.5"/><circle cx="12" cy="12" r="11.5"/></svg></div>E-Mail</div></a><a class=resp-sharing-button__link href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2frgoswami.me%2fposts%2fkeybindings-colevimhz-macos%2f&title=%22Remapping%20Keys%20for%20ColemakVIM%20on%20MacOS%22%20seems%20interesting...&summary=%22Remapping%20Keys%20for%20ColemakVIM%20on%20MacOS%22%20seems%20interesting...&source=https%3a%2f%2frgoswami.me%2fposts%2fkeybindings-colevimhz-macos%2f" target=_blank rel=noopener aria-label=LinkedIn><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11.5"/><path d="M15 12.5c-.28.0-.5.22-.5.5v3.5h-3s.03-6.48.0-7h3v.83s.46-.75 1.7-.75c1.56.0 2.3 1.12 2.3 3.3v3.62h-3V13c0-.28-.23-.5-.5-.5zm-7.5-3h2v7h-2z"/><circle cx="8.5" cy="6.5" r="1"/></svg></div>LinkedIn</div></a><a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https%3a%2f%2frgoswami.me%2fposts%2fkeybindings-colevimhz-macos%2f&resubmit=true&title=%22Remapping%20Keys%20for%20ColemakVIM%20on%20MacOS%22%20seems%20interesting..." target=_blank rel=noopener aria-label=Reddit><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11.5"/><ellipse cx="12" cy="14.37" rx="6.2" ry="4.24"/><path d="M14.3 16.25c-.62.36-1.42.57-2.3.57s-1.7-.2-2.32-.58"/><circle cx="14.61" cy="13.39" r=".98"/><circle cx="9.39" cy="13.39" r=".98"/><path d="M16.4 11.38c.26-.55.82-.92 1.47-.92.9.0 1.63.73 1.63 1.63.0.8-.6 1.47-1.38 1.6"/><circle cx="17.22" cy="7.52" r="1.63"/><path d="M7.6 11.38c-.26-.54-.82-.92-1.47-.92-.9.0-1.63.73-1.63 1.63.0.8.6 1.47 1.38 1.6M12 10.12s-.08-4.82 3.6-2.6"/></svg></div>Reddit</div></a><a class=resp-sharing-button__link href="whatsapp://send?text=%22Remapping%20Keys%20for%20ColemakVIM%20on%20MacOS%22%20seems%20interesting...%20https%3a%2f%2frgoswami.me%2fposts%2fkeybindings-colevimhz-macos%2f" target=_blank rel=noopener aria-label=WhatsApp><div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle xmlns="http://www.w3.org/2000/svg" cx="12" cy="12" r="11.5"/><path stroke-width="1" d="M17.6 6.2c-1.5-1.5-3.4-2.3-5.5-2.3-4.3.0-7.8 3.5-7.8 7.8.0 1.4.4 2.7 1 3.9l-1.1 4 4.1-1.1c1.1.6 2.4.9 3.7.9 4.3.0 7.8-3.5 7.8-7.8.1-2-.7-3.9-2.2-5.4zm-5.5 11.9c-1.2.0-2.3-.3-3.3-.9l-.2-.1-2.4.6.7-2.4-.2-.2c-.6-1-1-2.2-1-3.4.0-3.6 2.9-6.5 6.5-6.5 1.7.0 3.3.7 4.6 1.9 1.2 1.2 1.9 2.8 1.9 4.6-.1 3.5-3 6.4-6.6 6.4zm3.5-4.8c-.2-.1-1.1-.6-1.3-.6-.2-.1-.3-.1-.4.1s-.5.6-.6.8c-.1.1-.2.1-.4.0s-.8-.3-1.6-1c-.6-.5-1-1.2-1.1-1.3-.1-.2.0-.3.1-.4l.3-.3s.1-.2.2-.3c.1-.1.0-.2.0-.3s-.4-1.1-.6-1.4c-.2-.4-.3-.3-.4-.3h-.4s-.3.0-.5.2-.7.7-.7 1.6c0 1 .7 1.9.8 2s1.4 2.1 3.3 2.9c.5.2.8.3 1.1.4.5.1.9.1 1.2.1.4-.1 1.1-.5 1.3-.9.2-.5.2-.8.1-.9.0-.2-.2-.3-.4-.4z"/></svg></div>WhatsApp</div></a></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://rgoswami.me/posts/gsoc21-w7/><span class=button__icon>←</span>
<span class=button__text>GSoC21 W7: LFortran Workflow Basics</span></a></span>
<span class="button next"><a href=https://rgoswami.me/posts/nix-channel-nur/><span class=button__text>Nix, Channels and the NUR</span>
<span class=button__icon>→</span></a></span></div></div><div id=comments class=thin><div class=pagination__title><span class=pagination__title-h>Comments</span><hr></div><script src=https://utteranc.es/client.js repo=haozeke/haozeke.github.io issue-term=pathname theme=photon-dark label="Utterance 💬" crossorigin=anonymous async></script></div></main><footer class=footer><p>&copy; 2022
<span><a href=https://rgoswami.me/>Rohit Goswami (HaoZeke)</a></span>
<a href=https://rgoswami.me/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a><br><a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a>.
Powered by <a href=http://gohugo.io><u>Hugo</u></a> and <a href=https://github.com/HaoZeke/hugo-theme-hello-friend-ng-hz><u>this theme</u></a>.</br>Hosted with <u><a href=https://www.netlify.com/>Netlify</a></u>.</br><script src=https://liberapay.com/rohit/widgets/button.js></script><noscript><a href=https://liberapay.com/rohit/donate><img alt="Donate using Liberapay" src=https://liberapay.com/assets/widgets/donate.svg></a></noscript></p></footer></div><script src=/bundle.min.5fae9992ea406007408dc33b0b3a8376d61e2f1d6ac50ba1dad7580ac50afb5199bcef3bbc3677e77553a9980bf882cf71edc2f755687dd7725f12ece4304ac2.js></script>
<script>(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-109503488-16","auto"),ga("send","pageview")</script><script type=text/javascript>(function(e,o,t,i,a,n,s){e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},n=o.createElement(i),n.async=1,n.src="https://www.clarity.ms/tag/"+a,s=o.getElementsByTagName(i)[0],s.parentNode.insertBefore(n,s)})(window,document,"clarity","script","3z2xvwqu4u")</script><script data-goatcounter=https://rgoswami.goatcounter.com/count async src=//gc.zgo.at/count.js></script>
<script>var clicky_site_ids=clicky_site_ids||[];clicky_site_ids.push("101265002")</script><script async src=https://static.getclicky.com/js></script>
<script src=https://cdn.jsdelivr.net/npm/readmore-js@3.0.0-beta-1/dist/readmore.min.js></script>
<script src=/js/codefold.min.d0515ab08b3615633a8e8628e085c3c753ffc806b6d58bc2221083be6e9ab17a7a86ac9b4fc772c93a44f5d665dc13e87de3bc389b27c736e2a6a46e0df12f9c.js></script></body></html>