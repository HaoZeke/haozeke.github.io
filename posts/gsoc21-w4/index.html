<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="[Rohit Goswami]"><meta name=description content="Towards the mid-summer evaluation and redirecting efforts
 Background Serialized update for the 2021 Google Summer of Code under the fortran-lang organization, mentored by Ondrej Certik.
Series This post is part of a series based around my weekly GSoC21 project check-ins.
  GSoC21 W1: LFortran Kickoff
  GSoC21 W2: LFortran Unraveling
  GSoC21 W3: Kind, Characters, and Standards
  GSoC21 W4: LFortran, Backends and Bugs &amp;lt;&amp;ndash; You are here!"><meta name=keywords content=",gsoc21,fortran,rambling"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://rgoswami.me/posts/gsoc21-w4/><title>GSoC21 W4: LFortran, Backends and Bugs :: Rohit Goswami — Reflections</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.1/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/main.min.b6dbce0fdf6c61563a0c2226e857d5dadd8e5afa2c4f73ec9ea55abd831f9a72.css><meta itemprop=name content="GSoC21 W4: LFortran, Backends and Bugs"><meta itemprop=description content="Towards the mid-summer evaluation and redirecting efforts
 Background Serialized update for the 2021 Google Summer of Code under the fortran-lang organization, mentored by Ondrej Certik.
Series This post is part of a series based around my weekly GSoC21 project check-ins.
  GSoC21 W1: LFortran Kickoff
  GSoC21 W2: LFortran Unraveling
  GSoC21 W3: Kind, Characters, and Standards
  GSoC21 W4: LFortran, Backends and Bugs <&ndash; You are here!"><meta itemprop=datePublished content="2021-07-02T23:26:00+00:00"><meta itemprop=dateModified content="2021-07-02T23:26:00+00:00"><meta itemprop=wordCount content="1507"><meta itemprop=image content="https://rgoswami.me/images/RG.png"><meta itemprop=keywords content="gsoc21,fortran,rambling,"><meta property="og:title" content="GSoC21 W4: LFortran, Backends and Bugs"><meta property="og:description" content="Towards the mid-summer evaluation and redirecting efforts
 Background Serialized update for the 2021 Google Summer of Code under the fortran-lang organization, mentored by Ondrej Certik.
Series This post is part of a series based around my weekly GSoC21 project check-ins.
  GSoC21 W1: LFortran Kickoff
  GSoC21 W2: LFortran Unraveling
  GSoC21 W3: Kind, Characters, and Standards
  GSoC21 W4: LFortran, Backends and Bugs <&ndash; You are here!"><meta property="og:type" content="article"><meta property="og:url" content="https://rgoswami.me/posts/gsoc21-w4/"><meta property="og:image" content="https://rgoswami.me/images/RG.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-07-02T23:26:00+00:00"><meta property="article:modified_time" content="2021-07-02T23:26:00+00:00"><meta property="og:site_name" content="Rohit Goswami"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rgoswami.me/images/RG.png"><meta name=twitter:title content="GSoC21 W4: LFortran, Backends and Bugs"><meta name=twitter:description content="Towards the mid-summer evaluation and redirecting efforts
 Background Serialized update for the 2021 Google Summer of Code under the fortran-lang organization, mentored by Ondrej Certik.
Series This post is part of a series based around my weekly GSoC21 project check-ins.
  GSoC21 W1: LFortran Kickoff
  GSoC21 W2: LFortran Unraveling
  GSoC21 W3: Kind, Characters, and Standards
  GSoC21 W4: LFortran, Backends and Bugs <&ndash; You are here!"><meta property="article:section" content="notes"><meta property="article:published_time" content="2021-07-02 23:26:00 +0000 UTC"></head><body><div class=container><header class=header><div class=header__inner><div class=header__left><div class=logo><a href=/ style=text-decoration:none><img src=/images/home.png alt></a></div></div><div class=header__mid><button class=button><div class=button__text><a href=https://rgoswami.me//search>Search</a></div></button></div><div class=header__right><nav class=menu><ul class=menu__inner><li><a href=https://rgoswami.me/about>About</a></li><li><a href=https://rgoswami.me/posts>Blog</a></li></ul><ul class=menu__inner><li><a href=https://rgoswami.me/categories>Categories</a></li><li><a href=https://rgoswami.me/tags>Tags</a></li></ul></nav><button id=toggleMenu><div class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></div></button>
<button class=theme-toggle id=toggleTheme><svg class="theme-toggler" width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></button></div></div></header><script src=https://rgoswami.me/js/mathjax-config.js></script><script id=MathJax-script async src=https://unpkg.com/mathjax@3/es5/tex-chtml.js></script><aside class=sidebar><div class=hideTOC><button id=tocTog>TOC</button><div class="sideTOC m-fadeOut"><nav id=TableOfContents><ul><li><a href=#background>Background</a><ul><li><a href=#series>Series</a></li></ul></li><li><a href=#overview>Overview</a><ul><li><a href=#new-merge-requests>New Merge Requests</a></li><li><a href=#freshly-assigned-issues>Freshly Assigned Issues</a></li><li><a href=#additional-tasks>Additional Tasks</a></li></ul></li><li><a href=#logistics>Logistics</a></li><li><a href=#misc-log>Misc Log</a><ul><li><a href=#linking-troubles>Linking Troubles</a></li><li><a href=#gfortran-modules>Gfortran Modules</a></li></ul></li><li><a href=#conclusions>Conclusions</a></li></ul></nav></div></div></aside><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>8 minutes<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Written: 2021-07-02 23:26 +0000</p></p></div><article class=h-entry><h1 class="post-title p-name"><a class=u-url href=https://rgoswami.me/posts/gsoc21-w4/>GSoC21 W4: LFortran, Backends and Bugs</a></h1><div class=post-info><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pen-tool"><path d="M12 19l7-7 3 3-7 7-3-3z"/><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/><path d="M2 2l7.586 7.586"/><circle cx="11" cy="11" r="2"/></svg><span class="author u-author p-author"><a href=https://rgoswami.me/author/rohit-goswami>Rohit Goswami</a></span></div><hr><aside id=toc class=sidebar><div class=toc-title>Table of Contents</div><nav id=TableOfContents><ul><li><a href=#background>Background</a><ul><li><a href=#series>Series</a></li></ul></li><li><a href=#overview>Overview</a><ul><li><a href=#new-merge-requests>New Merge Requests</a></li><li><a href=#freshly-assigned-issues>Freshly Assigned Issues</a></li><li><a href=#additional-tasks>Additional Tasks</a></li></ul></li><li><a href=#logistics>Logistics</a></li><li><a href=#misc-log>Misc Log</a><ul><li><a href=#linking-troubles>Linking Troubles</a></li><li><a href=#gfortran-modules>Gfortran Modules</a></li></ul></li><li><a href=#conclusions>Conclusions</a></li></ul></nav></aside><hr><div class="post-content e-content"><blockquote><p>Towards the mid-summer evaluation and redirecting efforts</p></blockquote><h2 id=background>Background</h2><p>Serialized update for the <a href=https://summerofcode.withgoogle.com/projects/#5790375215628288>2021 Google Summer of Code</a> under the <a href=https://fortran-lang.org/>fortran-lang
organization</a>, mentored by <a href=https://ondrejcertik.com/>Ondrej Certik</a>.</p><h3 id=series>Series</h3><p>This post is part of a series based around my weekly GSoC21 project check-ins.</p><ol><li><p><a href=/posts/gsoc21-w1/>GSoC21 W1: LFortran Kickoff</a></p></li><li><p><a href=/posts/gsoc21-w2/>GSoC21 W2: LFortran Unraveling</a></p></li><li><p><a href=/posts/gsoc21-w3/>GSoC21 W3: Kind, Characters, and Standards</a></p></li><li><p><strong>GSoC21 W4: LFortran, Backends and Bugs</strong> &lt;&ndash; You are here!</p></li><li><p><a href=/posts/gsoc21-w5/>GSoC21 W5: LFortran Design Details and <code>minidftatom</code></a></p></li><li><p><a href=/posts/gsoc21-w6/>GSoC21 W6: LFortran ASR and Values</a></p></li><li><p><a href=/posts/gsoc21-w7/>GSoC21 W7: LFortran Workflow Basics</a></p></li></ol><h2 id=overview>Overview</h2><p>This week was a bit of a sticky wicket. My unfamiliarity with the LLVM backend
and its internals caught up with me just around the same time I ran into several
fixture and rent related idiosyncrasies which led to yet another shift in my
weekly meeting. Thanks to a timely reminder from my mentor Ondrej, I managed,
nevertheless, to make some concrete progress working on the compilation of
<code>dftatom</code> modules.</p><h3 id=new-merge-requests>New Merge Requests</h3><dl><dt><a href=https://gitlab.com/lfortran/lfortran/-/merge%5Frequests/1015>ASR Bug with Arrays (997)</a></dt><dd>Fixes a bug in the existing handling of arrays and <code>allocate</code> calls</dd></dl><h3 id=freshly-assigned-issues>Freshly Assigned Issues</h3><dl><dt><a href=https://gitlab.com/lfortran/lfortran/-/issues/388>Semantics: Implement TINY (388)</a></dt><dd>A classic intrinsic for error handling</dd><dt><a href=https://gitlab.com/lfortran/lfortran/-/issues/389>Semantics: Array Initializer Expressions (389)</a></dt><dd>A bugfix related to the merge request</dd><dt><a href=https://gitlab.com/lfortran/lfortran/-/issues/390>ODE1 Error (390)</a></dt><dd>Placeholder issue to be narrowed and chiseled into something actionable</dd><dt><a href=https://gitlab.com/lfortran/lfortran/-/issues/395>ASR mismatch between `gfortran` modules and source (395)</a></dt><dd>Issue relating to the completeness and equivalence of <code>mod</code> formats</dd></dl><h3 id=additional-tasks>Additional Tasks</h3><p>I&rsquo;d like to make some time to continue exploring the LLVM, and continue
familiarizing myself with formal language and automata theory.</p><h2 id=logistics>Logistics</h2><ul><li>I met with Ondrej on Friday this week<ul><li>He was kind enough to make a standing meeting twice a week, Tuesdays and Fridays</li><li>This was done to ensure concrete progress is made beyond intangibles</li></ul></li><li>Discussed the possibility of extending the <code>lfortran mod</code> interface<ul><li>Currently this has a copy of the ASR</li><li>In principle then, later modules are larger since they have relevant code</li><li>While <code>gfortran</code> does not bother with having a concrete representation in the <code>mod</code> file</li></ul></li><li>Discussed forming a functional subset of the <code>dftatom</code> code for now<ul><li>This is related to the slight change in direction which is being considered</li></ul></li><li>Rather than stick to one feature / function from front end to back end, it was decided that a more breadth first approach would be better<ul><li>Though I am still encouraged to delve into the backend, it is good to set up a fully working rational ASR pass first</li></ul></li><li>Eventually, backends aside, work will need to be undertaken for the runtime library as well</li></ul><h2 id=misc-log>Misc Log</h2><p>Some other things which came my way this week.</p><h3 id=linking-troubles>Linking Troubles</h3><p>Sometime down the line of modules and the roadmap to <code>dftatom</code> described in the <a href=https://gitlab.com/lfortran/lfortran/-/issues/319>master issue here</a>, I ran into an odd linker error. These seem to show up with both <code>miniconda</code> and <code>nix</code>, however, it is unclear to me at the moment if it warrants an issue until I check on a native ArchLinux machine. Another natural fix might be to actually bring in and compile <code>llvm</code>; then use the <code>lld</code> linker instead of the <code>bfd</code>.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>lfortran mod types.mod --show-asr
Traceback <span class=o>(</span>most recent call last<span class=o>)</span>:
  File <span class=s2>&#34;/build/glibc-2.32/csu/../sysdeps/x86_64/start.S&#34;</span>, line 120, in _start<span class=o>()</span>
  Binary file <span class=s2>&#34;/nix/store/hp8wcylqr14hrrpqap4wdrwzq092wfln-glibc-2.32-37/lib/libc.so.6&#34;</span>, in __libc_start_main<span class=o>()</span>
  File <span class=s2>&#34;/users/home/rog32/Git/Github/Fortran/mylf/src/bin/lfortran.cpp&#34;</span>, line 1086, in ??
    <span class=nv>asr</span> <span class=o>=</span> LFortran::mod_to_asr<span class=o>(</span>al, arg_mod_file<span class=o>)</span><span class=p>;</span>
LFortranException: Unknown module file format
</code></pre></div><p>In any case, for now, switching to <code>micromamba</code> and using <code>direnv</code> just works.</p><h4 id=missing-symbols>Missing Symbols</h4><p>This actually seems related to the more pertinent issue namely, that my <code>lapack</code> module didn&rsquo;t seem to contain relevant symbols at all:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>lfortran -c types.f90 -o types.o
lfortran -c lapack.f90 -o lapack.o
lfortran -c constants.f90 -o constants.o
lfortran -c interpolation.f90 -o interpolation.o
Semantic error: The symbol <span class=s1>&#39;dgesv&#39;</span> not found in the module <span class=s1>&#39;lapack&#39;</span>
</code></pre></div><p>This is true actually:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>cat lapack.mod <span class=p>|</span> grep dgesv
</code></pre></div><h4 id=truncated-stacktraces>Truncated Stacktraces</h4><p>Also related, probably, was an issue I noticed while co-working with Ondrej, namely, that my stacktraces in <code>nix</code> were and are a good deal less informative than his, probably due to <a href=https://nixos.wiki/wiki/Debug%5FSymbols>the default nix lack of debug symbols</a>. This can be quickly reproduced with:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>lfortran character_array.f90
BFD: DWARF error: could not find variable specification at offset 2722f
BFD: DWARF error: could not find variable specification at offset 2723e
BFD: DWARF error: could not find variable specification at offset 2736f
BFD: DWARF error: could not find variable specification at offset 2722f
BFD: DWARF error: could not find variable specification at offset 2723e
BFD: DWARF error: could not find variable specification at offset 2736f
BFD: DWARF error: could not find variable specification at offset 2722f
BFD: DWARF error: could not find variable specification at offset 2723e
BFD: DWARF error: could not find variable specification at offset 2736f
BFD: DWARF error: could not find variable specification at offset 2722f
BFD: DWARF error: could not find variable specification at offset 2723e
BFD: DWARF error: could not find variable specification at offset 2736f
BFD: DWARF error: could not find variable specification at offset 2722f
BFD: DWARF error: could not find variable specification at offset 2723e
BFD: DWARF error: could not find variable specification at offset 2736f
BFD: DWARF error: could not find variable specification at offset 2722f
BFD: DWARF error: could not find variable specification at offset 2723e
BFD: DWARF error: could not find variable specification at offset 2736f
BFD: DWARF error: could not find variable specification at offset 615b9
Traceback <span class=o>(</span>most recent call last<span class=o>)</span>:
  File <span class=s2>&#34;/build/glibc-2.32/csu/../sysdeps/x86_64/start.S&#34;</span>, line 120, in _start<span class=o>()</span>
  Binary file <span class=s2>&#34;/nix/store/hp8wcylqr14hrrpqap4wdrwzq092wfln-glibc-2.32-37/lib/libc.so.6&#34;</span>, in __libc_start_main<span class=o>()</span>
  File <span class=s2>&#34;/users/home/rog32/Git/Github/Fortran/mylf/src/bin/lfortran.cpp&#34;</span>, line 1250, in ??
    <span class=nv>err</span> <span class=o>=</span> compile_to_object_file<span class=o>(</span>arg_file, tmp_o, false,
  File <span class=s2>&#34;/users/home/rog32/Git/Github/Fortran/mylf/src/bin/lfortran.cpp&#34;</span>, line 601, in <span class=o>(</span>anonymous namespace<span class=o>)</span>::compile_to_object_file<span class=o>(</span>std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const<span class=p>&amp;</span>, std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const<span class=p>&amp;</span>, bool, bool<span class=o>)</span> <span class=o>[</span>clone .isra.0<span class=o>]</span>
    <span class=nv>result</span> <span class=o>=</span> fe.get_asr2<span class=o>(</span>input<span class=o>)</span><span class=p>;</span>
  File <span class=s2>&#34;/users/home/rog32/Git/Github/Fortran/mylf/src/lfortran/codegen/evaluator.cpp&#34;</span>, line 469, in LFortran::FortranEvaluator::get_asr2<span class=o>(</span>std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const<span class=p>&amp;</span><span class=o>)</span>
    <span class=nv>asr</span> <span class=o>=</span> ast_to_asr<span class=o>(</span>al, *ast, symbol_table<span class=o>)</span><span class=p>;</span>
  File <span class=s2>&#34;/users/home/rog32/Git/Github/Fortran/mylf/src/lfortran/semantics/ast_to_asr.cpp&#34;</span>, line 3091, in LFortran::ast_to_asr<span class=o>(</span>Allocator<span class=p>&amp;</span>, LFortran::AST::TranslationUnit_t<span class=p>&amp;</span>, LFortran::SymbolTable*<span class=o>)</span>
    v.visit_TranslationUnit<span class=o>(</span>ast<span class=o>)</span><span class=p>;</span>
  File <span class=s2>&#34;/users/home/rog32/Git/Github/Fortran/mylf/src/lfortran/ast.h&#34;</span>, line 3235, in LFortran::SymbolTableVisitor::visit_TranslationUnit<span class=o>(</span>LFortran::AST::TranslationUnit_t const<span class=p>&amp;</span><span class=o>)</span>
    <span class=k>case</span> modType::Program: <span class=o>{</span> v.visit_Program<span class=o>((</span>const Program_t <span class=p>&amp;</span><span class=o>)</span>x<span class=o>)</span><span class=p>;</span> <span class=k>return</span><span class=p>;</span> <span class=o>}</span>
  File <span class=s2>&#34;/users/home/rog32/Git/Github/Fortran/mylf/src/lfortran/ast.h&#34;</span>, line 3555, in LFortran::AST::BaseVisitor&lt;LFortran::SymbolTableVisitor&gt;::visit_program_unit<span class=o>(</span>LFortran::AST::program_unit_t const<span class=p>&amp;</span><span class=o>)</span>
    void visit_program_unit<span class=o>(</span>const program_unit_t <span class=p>&amp;</span>b<span class=o>)</span> <span class=o>{</span> visit_program_unit_t<span class=o>(</span>b, self<span class=o>())</span><span class=p>;</span> <span class=o>}</span>
  File <span class=s2>&#34;/users/home/rog32/Git/Github/Fortran/mylf/src/lfortran/ast.h&#34;</span>, line 3561, in LFortran::AST::BaseVisitor&lt;LFortran::SymbolTableVisitor&gt;::visit_unit_decl2<span class=o>(</span>LFortran::AST::unit_decl2_t const<span class=p>&amp;</span><span class=o>)</span>
    void visit_unit_decl2<span class=o>(</span>const unit_decl2_t <span class=p>&amp;</span>b<span class=o>)</span> <span class=o>{</span> visit_unit_decl2_t<span class=o>(</span>b, self<span class=o>())</span><span class=p>;</span> <span class=o>}</span>
  File <span class=s2>&#34;/users/home/rog32/Git/Github/Fortran/mylf/src/lfortran/ast.h&#34;</span>, line 3624, in LFortran::AST::BaseVisitor&lt;LFortran::SymbolTableVisitor&gt;::visit_expr<span class=o>(</span>LFortran::AST::expr_t const<span class=p>&amp;</span><span class=o>)</span>
    void visit_expr<span class=o>(</span>const expr_t <span class=p>&amp;</span>b<span class=o>)</span> <span class=o>{</span> visit_expr_t<span class=o>(</span>b, self<span class=o>())</span><span class=p>;</span> <span class=o>}</span>
  File <span class=s2>&#34;/users/home/rog32/Git/Github/Fortran/mylf/src/lfortran/ast.h&#34;</span>, line 3369, in void LFortran::AST::visit_expr_t&lt;LFortran::SymbolTableVisitor&gt;<span class=o>(</span>LFortran::AST::expr_t const<span class=p>&amp;</span>, LFortran::SymbolTableVisitor<span class=p>&amp;</span><span class=o>)</span>
    static void visit_expr_t<span class=o>(</span>const expr_t <span class=p>&amp;</span>x, Visitor <span class=p>&amp;</span>v<span class=o>)</span> <span class=o>{</span>
  Binary file <span class=s2>&#34;/nix/store/hp8wcylqr14hrrpqap4wdrwzq092wfln-glibc-2.32-37/lib/libc.so.6&#34;</span>, in killpg<span class=o>()</span>
Segfault: Signal SIGSEGV <span class=o>(</span>segmentation fault<span class=o>)</span> received
</code></pre></div><p>With a rather simple test problem I was using for my <code>allocatable length</code> character feature.</p><div class=highlight><pre class=chroma><code class=language-fortran data-lang=fortran><span class=c>! character_array.f90
</span><span class=c></span><span class=k>program </span><span class=n>character_array</span>
  <span class=k>implicit none
</span><span class=k>
</span><span class=k>  </span><span class=kt>character</span><span class=p>(</span><span class=mi>15</span><span class=p>)</span> <span class=kd>::</span> <span class=n>something</span>
  <span class=n>something</span> <span class=o>=</span> <span class=s2>&#34;sUpErWeiRdCaSe&#34;</span>

  <span class=k>call </span><span class=n>upcase</span><span class=p>(</span><span class=n>something</span><span class=p>)</span>

  <span class=n>something</span> <span class=o>=</span> <span class=n>upcase_func</span><span class=p>(</span><span class=n>something</span><span class=p>)</span>

  <span class=k>contains
</span><span class=k>
</span><span class=k>subroutine </span><span class=n>upcase</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=c>! Returns string &#39;s&#39; in uppercase
</span><span class=c></span><span class=kt>character</span><span class=p>(</span><span class=o>*</span><span class=p>),</span> <span class=k>intent</span><span class=p>(</span><span class=n>in</span><span class=p>)</span> <span class=kd>::</span> <span class=n>s</span>
<span class=kt>character</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>))</span> <span class=kd>::</span> <span class=n>t</span>
<span class=kt>integer</span> <span class=kd>::</span> <span class=n>i</span><span class=p>,</span> <span class=n>diff</span>
<span class=n>t</span> <span class=o>=</span> <span class=n>s</span><span class=p>;</span> <span class=n>diff</span> <span class=o>=</span> <span class=nb>ichar</span><span class=p>(</span><span class=s1>&#39;A&#39;</span><span class=p>)</span><span class=o>-</span><span class=nb>ichar</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)</span>
<span class=k>do </span><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
    <span class=k>if</span> <span class=p>(</span><span class=nb>ichar</span><span class=p>(</span><span class=n>t</span><span class=p>(</span><span class=n>i</span><span class=p>:</span><span class=n>i</span><span class=p>))</span> <span class=o>&gt;=</span> <span class=nb>ichar</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)</span> <span class=p>.</span><span class=nb>and</span><span class=p>.</span> <span class=nb>ichar</span><span class=p>(</span><span class=n>t</span><span class=p>(</span><span class=n>i</span><span class=p>:</span><span class=n>i</span><span class=p>))</span> <span class=o>&lt;=</span> <span class=nb>ichar</span><span class=p>(</span><span class=s1>&#39;z&#39;</span><span class=p>))</span> <span class=k>then</span>
        <span class=c>! if lowercase, make uppercase
</span><span class=c></span>        <span class=n>t</span><span class=p>(</span><span class=n>i</span><span class=p>:</span><span class=n>i</span><span class=p>)</span> <span class=o>=</span> <span class=nb>char</span><span class=p>(</span><span class=nb>ichar</span><span class=p>(</span><span class=n>t</span><span class=p>(</span><span class=n>i</span><span class=p>:</span><span class=n>i</span><span class=p>))</span> <span class=o>+</span> <span class=n>diff</span><span class=p>)</span>
    <span class=k>end if
</span><span class=k>end do
</span><span class=k>print</span><span class=o>*</span><span class=p>,</span> <span class=s2>&#34;Subroutine&#34;</span>
<span class=k>print</span><span class=o>*</span><span class=p>,</span> <span class=s2>&#34;Length of arg is &#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=k>print</span><span class=o>*</span><span class=p>,</span> <span class=s2>&#34;Converted &#34;</span> <span class=o>//</span> <span class=n>s</span> <span class=o>//</span> <span class=s2>&#34; to &#34;</span> <span class=o>//</span> <span class=n>t</span>

<span class=k>end subroutine
</span><span class=k>
</span><span class=k>function </span><span class=n>upcase_func</span><span class=p>(</span><span class=n>s</span><span class=p>)</span> <span class=k>result</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
<span class=c>! Returns string &#39;s&#39; in uppercase
</span><span class=c></span><span class=kt>character</span><span class=p>(</span><span class=o>*</span><span class=p>),</span> <span class=k>intent</span><span class=p>(</span><span class=n>in</span><span class=p>)</span> <span class=kd>::</span> <span class=n>s</span>
<span class=kt>character</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>))</span> <span class=kd>::</span> <span class=n>t</span>
<span class=kt>integer</span> <span class=kd>::</span> <span class=n>i</span><span class=p>,</span> <span class=n>diff</span>
<span class=n>t</span> <span class=o>=</span> <span class=n>s</span><span class=p>;</span> <span class=n>diff</span> <span class=o>=</span> <span class=nb>ichar</span><span class=p>(</span><span class=s1>&#39;A&#39;</span><span class=p>)</span><span class=o>-</span><span class=nb>ichar</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)</span>
<span class=k>do </span><span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>t</span><span class=p>)</span>
    <span class=k>if</span> <span class=p>(</span><span class=nb>ichar</span><span class=p>(</span><span class=n>t</span><span class=p>(</span><span class=n>i</span><span class=p>:</span><span class=n>i</span><span class=p>))</span> <span class=o>&gt;=</span> <span class=nb>ichar</span><span class=p>(</span><span class=s1>&#39;a&#39;</span><span class=p>)</span> <span class=p>.</span><span class=nb>and</span><span class=p>.</span> <span class=nb>ichar</span><span class=p>(</span><span class=n>t</span><span class=p>(</span><span class=n>i</span><span class=p>:</span><span class=n>i</span><span class=p>))</span> <span class=o>&lt;=</span> <span class=nb>ichar</span><span class=p>(</span><span class=s1>&#39;z&#39;</span><span class=p>))</span> <span class=k>then</span>
        <span class=c>! if lowercase, make uppercase
</span><span class=c></span>        <span class=n>t</span><span class=p>(</span><span class=n>i</span><span class=p>:</span><span class=n>i</span><span class=p>)</span> <span class=o>=</span> <span class=nb>char</span><span class=p>(</span><span class=nb>ichar</span><span class=p>(</span><span class=n>t</span><span class=p>(</span><span class=n>i</span><span class=p>:</span><span class=n>i</span><span class=p>))</span> <span class=o>+</span> <span class=n>diff</span><span class=p>)</span>
    <span class=k>end if
</span><span class=k>end do</span>
<span class=c>! print*,  new_line(&#39;c&#39;)
</span><span class=c></span><span class=k>print</span><span class=o>*</span><span class=p>,</span> <span class=s2>&#34;Function&#34;</span>
<span class=k>print</span><span class=o>*</span><span class=p>,</span> <span class=s2>&#34;Length of arg is &#34;</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>s</span><span class=p>)</span>
<span class=k>print</span><span class=o>*</span><span class=p>,</span> <span class=s2>&#34;Converted &#34;</span> <span class=o>//</span> <span class=n>s</span> <span class=o>//</span> <span class=s2>&#34; to &#34;</span> <span class=o>//</span> <span class=n>t</span>
<span class=k>end function
</span><span class=k>
</span><span class=k>end program </span><span class=n>character_array</span>
</code></pre></div><h3 id=gfortran-modules>Gfortran Modules</h3><p>One of the early goals was inter-operability with the <code>gfortran</code> module format. This is a <code>lisp</code> like syntax which changes occasionally.</p><div class=highlight><pre class=chroma><code class=language-fortran data-lang=fortran><span class=c>! simple module
</span><span class=c></span><span class=k>module </span><span class=n>b</span>
<span class=k>implicit none
</span><span class=k>private
</span><span class=k>public </span><span class=n>g</span>
<span class=k>contains
</span><span class=k></span><span class=kt>integer </span><span class=k>function </span><span class=n>g</span><span class=p>()</span>
<span class=n>g</span> <span class=o>=</span> <span class=mi>5</span>
<span class=k>end function
</span><span class=k>end module</span>
</code></pre></div><p>The corresponding <code>asr</code> is given by:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=o>(</span>TranslationUnit <span class=o>(</span>SymbolTable <span class=m>1</span> <span class=o>{</span>b: <span class=o>(</span>Module <span class=o>(</span>SymbolTable <span class=m>2</span> <span class=o>{</span>g: <span class=o>(</span>Function <span class=o>(</span>SymbolTable <span class=m>3</span> <span class=o>{</span>g: <span class=o>(</span>Variable <span class=m>3</span> g ReturnVar <span class=o>()</span> Default <span class=o>(</span>Integer <span class=m>4</span> <span class=o>[])</span> Source Public Required<span class=o>)})</span> g <span class=o>[]</span> <span class=o>[(=</span> <span class=o>(</span>Var <span class=m>3</span> g<span class=o>)</span> <span class=o>(</span>ConstantInteger <span class=m>5</span> <span class=o>(</span>Integer <span class=m>4</span> <span class=o>[])))]</span> <span class=o>(</span>Var <span class=m>3</span> g<span class=o>)</span> Source Public Implementation<span class=o>)})</span> b <span class=o>[]</span> .false.<span class=o>)})</span> <span class=o>[])</span>
</code></pre></div><p>For the currently supported <code>gfortran</code> module (v14) we get:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>lfortran mod b14.mod --show-asr
<span class=o>(</span>TranslationUnit <span class=o>(</span>SymbolTable <span class=m>1</span> <span class=o>{</span>g: <span class=o>(</span>Subroutine <span class=o>(</span>SymbolTable <span class=m>2</span> <span class=o>{})</span> g <span class=o>[]</span> <span class=o>[]</span> GFortranModule Public Interface<span class=o>)})</span> <span class=o>[])</span>
</code></pre></div><p>Which is contains a lower amount of information.
The differences between the module versions are not major:</p><figure><img src=/ox-hugo/2021-07-02_18-41-23_screenshot.png></figure><p>More importantly however, the module versions correspond to being compressed and this needs to be eventually handled as well.</p><h2 id=conclusions>Conclusions</h2><p>For the next week, I shall be finalizing work on the allocatable character lengths and moving on to some more semantics and intrinsics. Naturally as these are completed there will be more progress down the <code>dftatom</code> module listing. The main takeaway from this week for me was the retargeting of efforts. I do wish to continue struggling with the backend simply because I feel it is exciting and fun, but I shall endeavor to be more productive by applying a breadth first approach by contributing more concrete code every week. I have high hopes for being able to power through the intended project goals by the end of the program, and can always clean up / document afterwards.</p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://rgoswami.me/tags/gsoc21>gsoc21</a></span><span class=tag><a href=https://rgoswami.me/tags/fortran>fortran</a></span><span class=tag><a href=https://rgoswami.me/tags/rambling>rambling</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>1507 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Posted: <time class=dt-published>2021-07-02 23:26 +0000</time></p><a class=resp-sharing-button__link href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2frgoswami.me%2fposts%2fgsoc21-w4%2f" target=_blank rel=noopener aria-label=Facebook><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11.5"/><path d="M15.84 9.5H13.5V8.48c0-.53.35-.65.6-.65h1.4v-2.3h-2.35c-2.3.0-2.65 1.7-2.65 2.8V9.5h-2v2h2v7h3v-7h2.1l.24-2z"/></svg></div>Facebook</div></a><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?text=%22GSoC21%20W4%3a%20LFortran%2c%20Backends%20and%20Bugs%22%20seems%20like%20an%20interesting%20read%20from%20%40rg0swami&url=https%3a%2f%2frgoswami.me%2fposts%2fgsoc21-w4%2f" target=_blank rel=noopener aria-label=Twitter><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.5 7.4l-2 .2c-.4-.5-1-.8-2-.8C13.3 6.8 12 8 12 9.4v.6c-2 0-4-1-5.4-2.7-.2.4-.3.8-.3 1.3.0 1 .4 1.7 1.2 2.2-.5.0-1 0-1.2-.3.0 1.3 1 2.3 2 2.6-.3.4-.7.4-1 0 .2 1.4 1.2 2 2.3 2-1 1-2.5 1.4-4 1 1.3 1 2.7 1.4 4.2 1.4 4.8.0 7.5-4 7.5-7.5v-.4c.5-.4.8-1.5 1.2-2z"/><circle cx="12" cy="12" r="11.5"/></svg></div>Twitter</div></a><a class=resp-sharing-button__link href="mailto:?subject=%22GSoC21%20W4%3a%20LFortran%2c%20Backends%20and%20Bugs%22%20seems%20interesting...&body=https%3a%2f%2frgoswami.me%2fposts%2fgsoc21-w4%2f" target=_self rel=noopener aria-label=E-Mail><div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 16c0 .8-.7 1.5-1.5 1.5H6c-.8.0-1.5-.7-1.5-1.5V8c0-.8.7-1.5 1.5-1.5h12c.8.0 1.5.7 1.5 1.5v8zm-2-7.5L12 13 6.5 8.5m11 6-4-2.5m-7 2.5 4-2.5"/><circle cx="12" cy="12" r="11.5"/></svg></div>E-Mail</div></a><a class=resp-sharing-button__link href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2frgoswami.me%2fposts%2fgsoc21-w4%2f&title=%22GSoC21%20W4%3a%20LFortran%2c%20Backends%20and%20Bugs%22%20seems%20interesting...&summary=%22GSoC21%20W4%3a%20LFortran%2c%20Backends%20and%20Bugs%22%20seems%20interesting...&source=https%3a%2f%2frgoswami.me%2fposts%2fgsoc21-w4%2f" target=_blank rel=noopener aria-label=LinkedIn><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11.5"/><path d="M15 12.5c-.28.0-.5.22-.5.5v3.5h-3s.03-6.48.0-7h3v.83s.46-.75 1.7-.75c1.56.0 2.3 1.12 2.3 3.3v3.62h-3V13c0-.28-.23-.5-.5-.5zm-7.5-3h2v7h-2z"/><circle cx="8.5" cy="6.5" r="1"/></svg></div>LinkedIn</div></a><a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https%3a%2f%2frgoswami.me%2fposts%2fgsoc21-w4%2f&resubmit=true&title=%22GSoC21%20W4%3a%20LFortran%2c%20Backends%20and%20Bugs%22%20seems%20interesting..." target=_blank rel=noopener aria-label=Reddit><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="12" r="11.5"/><ellipse cx="12" cy="14.37" rx="6.2" ry="4.24"/><path d="M14.3 16.25c-.62.36-1.42.57-2.3.57s-1.7-.2-2.32-.58"/><circle cx="14.61" cy="13.39" r=".98"/><circle cx="9.39" cy="13.39" r=".98"/><path d="M16.4 11.38c.26-.55.82-.92 1.47-.92.9.0 1.63.73 1.63 1.63.0.8-.6 1.47-1.38 1.6"/><circle cx="17.22" cy="7.52" r="1.63"/><path d="M7.6 11.38c-.26-.54-.82-.92-1.47-.92-.9.0-1.63.73-1.63 1.63.0.8.6 1.47 1.38 1.6M12 10.12s-.08-4.82 3.6-2.6"/></svg></div>Reddit</div></a><a class=resp-sharing-button__link href="whatsapp://send?text=%22GSoC21%20W4%3a%20LFortran%2c%20Backends%20and%20Bugs%22%20seems%20interesting...%20https%3a%2f%2frgoswami.me%2fposts%2fgsoc21-w4%2f" target=_blank rel=noopener aria-label=WhatsApp><div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--medium"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--circle"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle xmlns="http://www.w3.org/2000/svg" cx="12" cy="12" r="11.5"/><path stroke-width="1" d="M17.6 6.2c-1.5-1.5-3.4-2.3-5.5-2.3-4.3.0-7.8 3.5-7.8 7.8.0 1.4.4 2.7 1 3.9l-1.1 4 4.1-1.1c1.1.6 2.4.9 3.7.9 4.3.0 7.8-3.5 7.8-7.8.1-2-.7-3.9-2.2-5.4zm-5.5 11.9c-1.2.0-2.3-.3-3.3-.9l-.2-.1-2.4.6.7-2.4-.2-.2c-.6-1-1-2.2-1-3.4.0-3.6 2.9-6.5 6.5-6.5 1.7.0 3.3.7 4.6 1.9 1.2 1.2 1.9 2.8 1.9 4.6-.1 3.5-3 6.4-6.6 6.4zm3.5-4.8c-.2-.1-1.1-.6-1.3-.6-.2-.1-.3-.1-.4.1s-.5.6-.6.8c-.1.1-.2.1-.4.0s-.8-.3-1.6-1c-.6-.5-1-1.2-1.1-1.3-.1-.2.0-.3.1-.4l.3-.3s.1-.2.2-.3c.1-.1.0-.2.0-.3s-.4-1.1-.6-1.4c-.2-.4-.3-.3-.4-.3h-.4s-.3.0-.5.2-.7.7-.7 1.6c0 1 .7 1.9.8 2s1.4 2.1 3.3 2.9c.5.2.8.3 1.1.4.5.1.9.1 1.2.1.4-.1 1.1-.5 1.3-.9.2-.5.2-.8.1-.9.0-.2-.2-.3-.4-.4z"/></svg></div>WhatsApp</div></a></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://rgoswami.me/posts/gsoc21-w5/><span class=button__icon>←</span>
<span class=button__text>GSoC21 W5: LFortran Design Details and minidftatom</span></a></span>
<span class="button next"><a href=https://rgoswami.me/posts/iop-caps-webdev-2021-meta/><span class=button__text>Talk Supplements for IOP CAPS'21 Webdev Workshop</span>
<span class=button__icon>→</span></a></span></div></div><div id=comments class=thin><div class=pagination__title><span class=pagination__title-h>Comments</span><hr></div><div id=remarkbox-div><noscript><iframe id=remarkbox-iframe src="https://my.remarkbox.com/embed?nojs=true" style=height:600px;width:100%;border:none!important tabindex=0></iframe></noscript></div><script src=https://my.remarkbox.com/static/js/iframe-resizer/iframeResizer.min.js></script><script>var rb_owner_key="8e660759-e7e6-11ea-9711-040140774501",thread_uri=window.location.href,thread_title=window.document.title,thread_fragment=window.location.hash,rb_src="https://my.remarkbox.com/embed?rb_owner_key="+rb_owner_key+"&thread_title="+encodeURI(thread_title)+"&thread_uri="+encodeURIComponent(thread_uri)+thread_fragment;function create_remarkbox_iframe(){var a=document.createElement("iframe");a.setAttribute("id","remarkbox-iframe"),a.setAttribute("scrolling","no"),a.setAttribute("src",rb_src),a.setAttribute("frameborder","0"),a.setAttribute("tabindex","0"),a.setAttribute("title","Remarkbox"),a.style.width="100%",document.getElementById("remarkbox-div").appendChild(a)}create_remarkbox_iframe(),iFrameResize({checkOrigin:["https://my.remarkbox.com"],inPageLinks:!0,initCallback:function(a){a.iFrameResizer.moveToAnchor(thread_fragment)}},document.getElementById("remarkbox-iframe"))</script></div></main><footer class=footer><p>&copy; 2022
<span><a href=https://rgoswami.me/>Rohit Goswami (HaoZeke)</a></span>
<a href=https://rgoswami.me/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a><br><a rel=license href=http://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a>.
Powered by <a href=http://gohugo.io><u>Hugo</u></a> and <a href=https://github.com/HaoZeke/hugo-theme-hello-friend-ng-hz><u>this theme</u></a>.</br>Hosted with <u><a href=https://www.netlify.com/>Netlify</a></u>.</br><script src=https://liberapay.com/rohit/widgets/button.js></script><noscript><a href=https://liberapay.com/rohit/donate><img alt="Donate using Liberapay" src=https://liberapay.com/assets/widgets/donate.svg></a></noscript></p></footer></div><script src=/bundle.min.5fae9992ea406007408dc33b0b3a8376d61e2f1d6ac50ba1dad7580ac50afb5199bcef3bbc3677e77553a9980bf882cf71edc2f755687dd7725f12ece4304ac2.js></script><script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','//www.google-analytics.com/analytics.js','ga'),ga('create','UA-109503488-16','auto'),ga('send','pageview')</script><script type=text/javascript>(function(a,e,b,f,g,c,d){a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},c=e.createElement(f),c.async=1,c.src="https://www.clarity.ms/tag/"+g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)})(window,document,"clarity","script","3z2xvwqu4u")</script><script data-goatcounter=https://rgoswami.goatcounter.com/count async src=//gc.zgo.at/count.js></script><script>var clicky_site_ids=clicky_site_ids||[];clicky_site_ids.push("101265002")</script><script async src=https://static.getclicky.com/js></script><script src=https://cdn.jsdelivr.net/npm/readmore-js@3.0.0-beta-1/dist/readmore.min.js></script><script src=/js/codefold.min.4a43062cb83308b55227adf937c91be79ff6d95df8bb821dfd71805ce54629ff8cffed3ae81d70fdee5f324fa0f39c5280ae785f165801885db074551a993a21.js></script></body></html>